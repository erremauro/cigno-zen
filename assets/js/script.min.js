(function(b){function f(g){var h=b.getElementById("search-bar");h.style.display==="none"||h.style.display===""?h.style.display="block":h.style.display="none",b.querySelectorAll(".menu-label").forEach(w=>w.classList.toggle("hidden"));var y=b.getElementById("menu-button");y.classList.toggle("rotated")}b.addEventListener("DOMContentLoaded",function(){var g=b.getElementById("site-menu-toggle");g.addEventListener("click",f)})})(document),function(){function b(o,a){return(a||document).querySelector(o)}function f(o,a){return Array.prototype.slice.call((a||document).querySelectorAll(o))}function g(o){var a=o.getAttribute("data-toggle-target")||"#"+(o.getAttribute("aria-controls")||"").trim();if(!a)return null;try{return document.querySelector(a)}catch{return null}}function h(o){var a=(o.getAttribute("data-scroll-target")||"").trim();if(!a)return null;try{return document.querySelector(a)}catch{return null}}function y(o,a){var p=o.querySelector(".more-link-button"),t=o.querySelector(".more-link-lable-top"),r=o.querySelector(".more-link-lable-bottom");o.setAttribute("aria-expanded",String(a)),p&&p.classList.toggle("rotated",a),t&&t.classList.toggle("hidden",a),r&&r.classList.toggle("hidden",!a);var d=g(o);d&&(a?d.removeAttribute("hidden"):d.setAttribute("hidden",""))}function w(o){if(!(!o||!("scrollIntoView"in o)))try{o.scrollIntoView({behavior:"smooth",block:"start"})}catch{o.scrollIntoView(!0)}}function k(o){o&&o.preventDefault();var a=o.currentTarget,p=a.getAttribute("aria-expanded")!=="true";y(a,p);var t=a.getAttribute("data-toggle-target")||"#"+(a.getAttribute("aria-controls")||"").trim();if(t&&f(".js-toggle").forEach(function(m){if(m!==a){var A=m.getAttribute("data-toggle-target")||"#"+(m.getAttribute("aria-controls")||"").trim();A===t&&y(m,p)}}),!p){var r=h(a);if(!r&&t){var d=f(".js-toggle").find(function(m){if(m===a)return!1;var A=m.getAttribute("data-toggle-target")||"#"+(m.getAttribute("aria-controls")||"").trim();return A===t&&m.hasAttribute("data-scroll-target")});d&&(r=h(d))}r&&w(r)}}function S(o){(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),k(o))}document.addEventListener("DOMContentLoaded",function(){f(".js-toggle").forEach(function(o){y(o,!1),o.addEventListener("click",k),o.addEventListener("keydown",S)})})}(),(()=>{const b=(e,s=document)=>Array.from(s.querySelectorAll(e)),f=(e,s=document)=>s.querySelector(e),g=e=>window.CSS&&CSS.escape?CSS.escape(e):e.replace(/[^a-zA-Z0-9_\-]/g,"\\$&"),h=e=>{try{const s=e&&e.includes("#")?e.split("#").pop():"";return decodeURIComponent((s||"").trim())}catch{return""}},y=(e,s)=>{const n=i=>{if(i.nodeType!==1)return!1;const c=(i.textContent||"").trim();if(!/^\[?\(?\d+\)?[\.\:\]]?$/.test(c))return!1;if(i.tagName==="A"){const v=(i.getAttribute("href")||"").trim(),E=i.className||"";if(v.includes("#")){const q=v.split("#").pop();if(q===s||/fnref|ref|note/i.test(q)||/fnref|ref|note/i.test(E))return!0}return!1}return["SUP","SPAN","EM","STRONG"].includes(i.tagName)};let l=3;for(;e.firstChild&&l-- >0;){const i=e.firstChild;if(n(i)){e.removeChild(i);continue}break}},w=e=>{Array.from(e.querySelectorAll("a")).forEach(n=>{const l=n.getAttribute("href")||"",i=n.className||"",c=n.getAttribute("role")||"",u=(n.getAttribute("aria-label")||n.getAttribute("title")||"").toLowerCase(),v=(n.textContent||"").replace(/[\uFE0E\uFE0F]/g,"").trim(),E=l.includes("#"),q=E?l.split("#").pop():"",x=/fnref|footnote.*ref|reversefootnote/i.test(i)||/fnref|footnote.*ref|back|return/i.test(q),M=/backref|return|footnote[-_]?return/i.test(i)||c.toLowerCase()==="doc-backlink"||u.includes("back")||u.includes("ritorna")||u.includes("torna"),N=/↩|↪|↑|⬆/.test(v);(E&&(x||M)||N)&&n.remove()})},k=e=>{let s=document.querySelector(`p.footnote#${g(e)}`);if(!s){const u=document.getElementById(e);u&&(s=u.matches("p.footnote")?u:u.querySelector("p.footnote, p"))}if(!s)return"";const n=s.cloneNode(!0);w(n);const l=n.innerHTML.trim(),i=s.cloneNode(!0);return y(i,e),w(i),(i.textContent.trim()?i.innerHTML.trim():l)||l},S=(e,s)=>{const n=i=>{const c=(i||"").trim(),u=c.match(/^\s*[\[\(]?(\d+)[\]\)\.:]?\s*$/);return u?u[1]:c};let l=n(e.textContent||e.innerText||"");if((!l||!/^\d+$/.test(l))&&e.closest("sup")&&(l=n(e.closest("sup").textContent||"")),!l||!/^\d+$/.test(l)){const i=(s||"").match(/(\d+)(?!.*\d)/);l=i?i[1]:l||s||""}return l};let o={anchor:null,popup:null,overlay:null};const a=()=>{var e,s,n,l;(e=o.popup)==null||e.remove(),(s=o.overlay)==null||s.remove(),(l=(n=o.anchor)==null?void 0:n.focus)==null||l.call(n,{preventScroll:!0}),o={anchor:null,popup:null,overlay:null},document.removeEventListener("keydown",p),window.removeEventListener("resize",t),window.removeEventListener("scroll",t,!0)},p=e=>{e.key==="Escape"&&a()},t=()=>{o.popup&&o.anchor&&m(o.popup,o.anchor)},r=(e,s)=>{const n=document.createElement("div");n.className="footnote-overlay",n.addEventListener("click",a,{passive:!0});const l=document.createElement("div");l.className="footnote-popup",l.setAttribute("role","dialog");const i=`footnote-popup-title-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`;l.setAttribute("aria-labelledby",i),l.setAttribute("aria-modal","true");const c=document.createElement("button");c.className="footnote-popup-close",c.type="button",c.setAttribute("aria-label","Chiudi nota"),c.innerHTML="\xD7",c.addEventListener("click",a);const u=document.createElement("div");u.className="footnote-popup-title",u.id=i,u.textContent=`${s}`;const v=document.createElement("div");return v.className="footnote-popup-content",v.innerHTML=e,l.appendChild(c),l.appendChild(u),l.appendChild(v),{popup:l,overlay:n}},d=680,m=(e,s)=>{e.style.minWidth="240px",e.style.visibility="hidden",e.style.left="0px",e.style.top="0px",document.body.appendChild(e);const n=s.getBoundingClientRect(),l=document.documentElement.clientWidth,i=document.documentElement.clientHeight,c=8,u=e.getBoundingClientRect();let v=window.scrollY+n.bottom+c;n.bottom+u.height+c>i&&(v=window.scrollY+n.top-u.height-c,v<window.scrollY+c&&(v=window.scrollY+c));let E=window.scrollX+n.left+(n.width-u.width)/2;E=Math.max(window.scrollX+c,Math.min(E,window.scrollX+l-u.width-c)),e.style.left=`${E}px`,e.style.top=`${v}px`,e.style.visibility="visible",l<=d&&(e.style.right=`${E}px`)},A=(e,s)=>{const n=k(s);if(!n)return;const l=S(e,s);a();const{popup:i,overlay:c}=r(n,l);document.body.appendChild(c),o={anchor:e,popup:i,overlay:c},m(i,e),document.addEventListener("keydown",p),window.addEventListener("resize",t),window.addEventListener("scroll",t,!0),(i.querySelector("button")||i).focus({preventScroll:!0})},L=()=>{document.addEventListener("click",e=>{if(e.metaKey||e.ctrlKey||e.shiftKey||e.button===1)return;const s=e.target.closest("sup a[href], a.footnote-ref[href]");if(!s)return;const n=h(s.getAttribute("href")||"");!n||!(document.querySelector(`p.footnote#${g(n)}`)||document.getElementById(n))||(e.preventDefault(),A(s,n))})},C=()=>{const e=f("div.footnotes"),s=f("#footnotes-toggle");if(!s||!e)return;e.classList.add("hidden"),s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.setAttribute("aria-expanded","false");let n=f(".footnotes-toggle-chevron",s);n?n.style.transform="rotate(-90deg)":(n=document.createElement("img"),n.className="footnotes-toggle-chevron",n.src="/wp-content/themes/cigno-zen/assets/images/chevron-down.svg",n.width="32",n.height="32",n.alt="",n.setAttribute("aria-hidden","true"),n.style.transform="rotate(-90deg)",n.style.marginLeft="0.5rem",s.appendChild(n));const l=i=>{s.setAttribute("aria-expanded",i?"true":"false"),i?(e.classList.remove("hidden"),n.style.transform=""):(e.classList.add("hidden"),n.style.transform="rotate(-90deg)")};s.addEventListener("click",()=>l(e.classList.contains("hidden"))),s.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),l(e.classList.contains("hidden")))})},T=()=>{C(),L()};document.readyState!=="loading"?T():document.addEventListener("DOMContentLoaded",T)})(),function(){var b="cz-theme",f=document.documentElement,g=document.getElementById("theme-toggle");if(!g)return;function h(o){f.setAttribute("data-theme",o);try{localStorage.setItem(b,o)}catch{}g.setAttribute("aria-pressed",o==="dark")}var y=localStorage.getItem(b);if(y)h(y);else{var w=window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches;h(w?"light":"dark")}var k=720,S;g.addEventListener("click",function(){if(!g.classList.contains("animating")){var o=f.getAttribute("data-theme")||"dark",a=o==="dark"?"light":"dark",p=a==="dark"?"anim-to-dark":"anim-to-light";g.classList.add("animating",p),requestAnimationFrame(function(){h(a),clearTimeout(S),S=setTimeout(function(){g.classList.remove("animating","anim-to-dark","anim-to-light")},k)})}})}(),function(){function b(t){return t&&typeof t.querySelectorAll=="function"?t:document}function f(t,r){return b(r).querySelector(t)}function g(t,r){return Array.from(b(r).querySelectorAll(t))}const h=t=>t&&(t.tagName==="BUTTON"||t.getAttribute("role")==="button"),y=()=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","48"),t.setAttribute("height","48"),t.setAttribute("aria-hidden","true"),t.style.flex="0 0 auto",t.style.transition="transform .2s ease",t.classList.add("collapsable-chevron");const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d","M6.23 8.97a1 1 0 0 1 1.41 0L12 13.34l4.36-4.37a1 1 0 1 1 1.41 1.42l-5.06 5.06a1 1 0 0 1-1.41 0L6.23 10.4a1 1 0 0 1 0-1.42z"),r.setAttribute("fill","currentColor"),t.appendChild(r),t},w=(t,r)=>{const d=f(".collapsable-toggle",t),m=f(".collapsable-content",t);if(!d||!m)return;const A=f(".collapsable-chevron",d),L=t.classList.contains("is-open");r!==L&&(t.classList.toggle("is-open",r),d.setAttribute("aria-expanded",r?"true":"false"),m.setAttribute("aria-hidden",r?"false":"true"),m.style.display=r?"":"none",A&&(A.style.transform=r?"rotate(0deg)":"rotate(-90deg)"))},k=t=>{h(t)||(t.setAttribute("role","button"),t.setAttribute("tabindex","0")),t.style.cursor="pointer"},S=(t,r="collapsable-content-")=>(t.id||(t.id=r+Math.random().toString(36).slice(2,9)),t.id),o=t=>{if(!t||t.__collapsableReady)return;const r=f(".collapsable-toggle",t),d=f(".collapsable-content",t);if(!r||!d)return;if(!f(".collapsable-chevron",r)){const L=y(),C=document.createElement("span");for(C.className="collapsable-toggle-text";r.firstChild;)C.appendChild(r.firstChild);r.appendChild(C),r.insertBefore(L,C),r.style.display="inline-flex",r.style.alignItems="center",r.style.gap=".5rem"}k(r),S(d),r.setAttribute("aria-controls",d.id);const m=(t.getAttribute("data-initial")||"").toLowerCase();w(t,m!=="closed");const A=L=>{L.preventDefault(),w(t,!t.classList.contains("is-open"))};r.addEventListener("click",A),r.addEventListener("keydown",L=>{(L.key==="Enter"||L.key===" ")&&(L.preventDefault(),A(L))}),t.__collapsableReady=!0},a=t=>{g(".collapsable-section",t).forEach(o)};document.readyState!=="loading"?a():document.addEventListener("DOMContentLoaded",a);const p=new MutationObserver(t=>{for(const r of t)r.addedNodes&&r.addedNodes.forEach(d=>{!d||d.nodeType!==1||typeof d.querySelectorAll=="function"&&(d.matches&&d.matches(".collapsable-section")?o(d):a(d))})});try{p.observe(document.documentElement,{childList:!0,subtree:!0})}catch{}}();
//# sourceMappingURL=script.min.js.map
